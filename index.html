<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Basic Page Needs
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta charset="utf-8">
    <title>Flavors of Cacao</title>
    <meta name="description"
          content="Presentation of the Flavors of Cacao visualization project, for the Applied Data Science course.">
    <meta name="author" content="Igor Chernomorets, DS72">

    <!-- Mobile Specific Metas
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- FONT
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
    <!-- CSS
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/skeleton.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/nice-select.css">
    <link rel="stylesheet" href="css/custom.css">
    <link rel="stylesheet" href="charts/beeswarm.css">

    <!-- Favicon
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="icon" type="image/png" href="images/favicon.png?v2">

</head>

<body>
    <!-- Primary Page Layout
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div class="container">
        <!-- Hero Section
        –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <div class="section hero bordered">
            <div class="row">
                <div class="column">
                    <h1 class="hero-title">Flavors of Cacao</h1>
                    <div class="hero-subtitle">A Data Visualization project</div>
                    <img class="hero-image" src="images/hero-image.jpg">
                    <div class="hero-description">
                        <p class="large">
                            Chocolate is one of the most popular candies in the world.
                            Each year, residents of the United States collectively eat more than 2.8 billions pounds.
                            However, not all chocolate bars are created equal!
                        </p>
                        <p class="medium">
                            With this project, I am making a complete analysis of which trends make chocolate bars get
                            higher ratings. The visualizations contains expert ratings of
                            over 1,700 individual chocolate bars, along with
                            information on their regional origin, percentage of cocoa, the variety of chocolate bean
                            used and where the beans were grown.
                        </p>
                        <p class="medium">
                            The information was compiled by Brady Brelinski, Founding Member of the Manhattan Chocolate
                            Society. For up-to-date information, as well as additional content (including interviews
                            with craft chocolate makers), please visit his website:
                            <a href="http://flavorsofcacao.com/index.html">Flavors of Cacao - Home</a>.
                        </p>
                    </div>
                    <a class="button hero-button" href="data/flavors-of-cacao.pdf" target="_top_blank">view the tableau
                        charts</a>
                    <a class="button hero-button" href="#" target="_blank">visit my github repository</a>
                    <a class="button hero-button" href="https://www.kaggle.com/rtatman/chocolate-bar-ratings"
                       target="_blank">view the dataset on Kaggle</a>
                </div>
            </div>
        </div>
        <!-- First Visualization
        –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <div class="section viz01">
            <div class="row">
                <div class="column">
                    <h2 class="section-heading">Rating comparison between countries</h2>
                    <div class="data-exploration-select">Rating comparison between
                        <select class="small inline select-left">
                            <option selected>Australia</option>
                            <option>Belgium</option>
                            <option>Canada</option>
                            <option>Ecuador</option>
                            <option>France</option>
                            <option>Germany</option>
                            <option>Italy</option>
                            <option>Scotland</option>
                            <option>Switzerland</option>
                            <option>U.K.</option>
                            <option>U.S.A.</option>
                        </select>and
                        <select class="small inline select-right">
                            <option>Australia</option>
                            <option selected>Belgium</option>
                            <option>Canada</option>
                            <option>Ecuador</option>
                            <option>France</option>
                            <option>Germany</option>
                            <option>Italy</option>
                            <option>Scotland</option>
                            <option>Switzerland</option>
                            <option>U.K.</option>
                            <option>U.S.A.</option>
                        </select>.
                    </div>
                    <div id="data-exploration"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- JS
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <script src="js/jquery/jquery-3.2.1.min.js"></script>
    <script src="js/fastclick/fastclick.js"></script>
    <script src="js/jquery-nice-select/jquery.nice-select.min.js"></script>
    <script src="js/d3/v4.12.0/d3.min.js"></script>
    <script src="js/d3-beeswarm/d3-beeswarm.js"></script>
    <script src="js/custom.js"></script>
    <script src="charts/charts.js"></script>
    <script src="charts/beeswarm.js"></script>
    <script>
        $(document).ready(function () {
            $('select:not(.ignore)').niceSelect();
            FastClick.attach(document.body);
            d3.csv("data/flavors-of-cacao.csv", function (error, data) {
                $(".data-exploration-select").on('change', function () {
                    var leftSelect = $(".select-left"),
                        rightSelect = $(".select-right");
                    leftSelect.find("option").removeAttr('disabled');
                    rightSelect.find("option").removeAttr('disabled');
                    leftSelect.find("option:contains('" + rightSelect.val() + "')").attr("disabled", true);
                    rightSelect.find("option:contains('" + leftSelect.val() + "')").attr("disabled", true);
                    leftSelect.niceSelect("update");
                    rightSelect.niceSelect("update");


                    charts.beeswarm({
                        width: 960,
                        height: 540,
                        data: data,
                        selector: "#data-exploration",
                        y_axis: {
                            title: "rating",
                            select: function (entry) {
                                return entry.rating;
                            }
                        },
                        x_axis: {
                            title: "country",
                            select: function (entry) {
                                return entry.companyLocation;
                            },
                            left: {
                                title: leftSelect.val(),
                                filter: function (key) {
                                    return key === leftSelect.val()
                                }
                            },
                            right: {
                                title: rightSelect.val(),
                                filter: function (key) {
                                    return key === rightSelect.val()
                                }
                            }
                        }
                    }).draw()
                }).trigger("change");

            });
            $("#data-exploration").dblclick(function(event) {
                var viewer =  event.currentTarget;
                var rFS = viewer.mozRequestFullScreen || viewer.webkitRequestFullscreen || viewer.requestFullscreen;
                rFS.call(viewer);
            });
        });
    </script>


    <!-- End Document
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>

</html>